@model FrontendCNE.Models.VotoViewModel
@{
    ViewData["Title"] = "tbVoto".Substring(2);
    ViewData["ViewName"] = "_Create".Substring(1);
}

<div class="row">
    <div class="col-md-4">
        <form asp-action="@ViewData["ViewName"]">
            <div asp-validation-summary="ModelOnly" class="text-danger" hidden></div>

            <div class="form-group" hidden>
                <label asp-for="Mes_Id" class="control-label"></label>
                <input asp-for="Mes_Id" class="form-control" />
                <span asp-validation-for="Mes_Id" class="text-danger"></span>
            </div>
            <div class="form-group" hidden>
                <label asp-for="Pre_Id" class="control-label"></label>
                <input asp-for="Pre_Id" class="form-control" />
                <span asp-validation-for="Pre_Id" class="text-danger"></span>
            </div>
            <div class="form-group" hidden>
                <label asp-for="Alc_Id" class="control-label"></label>
                <input asp-for="Alc_Id" class="form-control" />
                <span asp-validation-for="Alc_Id" class="text-danger"></span>
            </div>
            <div class="form-group" hidden>
                <label asp-for="dni" class="control-label"></label>
                <input asp-for="dni" class="form-control" value="" />
                <span asp-validation-for="dni" class="text-danger"></span>
            </div>
            @{
                // Declaración de una lista de enteros
                List<int> listaEnteros = new List<int>();

                // Agregar elementos a la lista
                listaEnteros.Add(3);
                listaEnteros.Add(5);
                
                // y así sucesivamente...
            }
            <input type="hidden" name="listaEnteros" value="3,5" />
            <div class="form-group">
                <input type="submit" value="Votar" id="Vot" name="vot" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
<script>
        //document.getElementById("Vot").addEventListener("click", function () {
        //    var listaEnteros = document.getElementById("listaEnteros").value;
        //    var formData = new FormData(document.getElementById("votoForm"));
        //    formData.append("listaEnteros", listaEnteros);

        //    // Enviar la solicitud AJAX
        //    var xhr = new XMLHttpRequest();
        //    xhr.open("POST", "/Voto/Create");
        //    xhr.setRequestHeader("RequestVerificationToken", document.getElementsByName("__RequestVerificationToken")[0].value);
        //    xhr.onreadystatechange = function () {
        //        if (xhr.readyState === 4 && xhr.status === 200) {
        //            // Redirigir o realizar otras acciones después de que la solicitud se complete correctamente
        //            window.location.href = "/Votacion/Index";
        //        }
        //    };
        //    xhr.send(formData);
        //});
</script>
}
